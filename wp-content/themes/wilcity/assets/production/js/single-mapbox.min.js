!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=475)}({1:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},154:function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n(5)),i=o(n(6)),r=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"buildMapPopup",value:function(t,e){var n=document.createElement("div");n.className="marker",n.style.backgroundImage="url("+t.properties.marker+")",n.style.backgroundRepeat="no-repeat",n.style.width=e.oMapSizeIcon.width,n.style.height=e.oMapSizeIcon.height;var o=new mapboxgl.Popup({offset:25,postID:t.properties.oLocation.postID,anchor:"bottom"}).setLngLat([t.geometry.coordinates.lon,t.geometry.coordinates.lat]).setHTML(e.popupTemplate(t.properties.oLocation));return o.on("open",function(t){e.isShowingPopupID=t.target.options.postID}),{el:n,oMarker:o}}},{key:"buildLayerSkeleton",value:function(t){return{type:"Feature",geometry:{type:"Point",coordinates:{lat:parseFloat(t.oAddress.lat),lon:parseFloat(t.oAddress.lng)}},properties:{iconSize:[50,50],marker:t.oAddress.marker,oLocation:t}}}},{key:"getMapSizeIcon",value:function(){var t=WILOKE_GLOBAL.mapSizeIcon,e={};if(t.length){var n=t.split("x");e={width:n[0]+"px",height:n[1]+"px"}}else e={width:"100px",height:"100px"};return e}}]),t}();e.default=r},475:function(t,e,n){"use strict";var o,a=n(1),i=a(n(5)),r=a(n(6)),l=a(n(154)),u=function(){function t(e){(0,i.default)(this,t),this.mapID=e,this.oLatLng=null,this.init()}return(0,r.default)(t,[{key:"mapStyles",value:function(t){return"custom"===t?WILCITY_CUSTOM_MAP:void 0!==oStyles[t]?oStyles[t]:oStyles.blurWater}},{key:"parseLatLng",value:function(t){var e=t.split(",");return{lat:parseFloat(e[0]),lng:parseFloat(e[1])}}},{key:"addGetDirectionButton",value:function(){var t=this;this.$map.addControl({onAdd:function(e){var n=document.createElement("div");n.className="wil-get-direction-button-wrapper",n.style.top="10px",n.style.left="10px";var o=document.createElement("i");o.className="fa fa-map "+WHITE_LABEL+"-get-direction-icon";var a=document.createElement("a");return a.innerHTML=WILCITY_I18.getDirection,a.href=t.aConfiguration.googleMapUrl,a.target="_blank",a.style.color="#fff",n.appendChild(o),n.appendChild(a),n}},"top-left")}},{key:"setParams",value:function(){var t={container:this.mapID,zoom:WILOKE_GLOBAL.oSingleMap.defaultZoom,maxZoom:WILOKE_GLOBAL.oSingleMap.maxZoom,minZoom:WILOKE_GLOBAL.oSingleMap.minZoom,style:void 0===WILOKE_GLOBAL.mapboxStyle?"mapbox://styles/mapbox/streets-v9":WILOKE_GLOBAL.mapboxStyle};mapboxgl.accessToken=WILOKE_GLOBAL.mapAPI;var e=this.$map.dataset;this.aConfiguration=Object.assign({},t,e),this.oLatLng=this.parseLatLng(this.aConfiguration.latlng),this.aConfiguration.center=[this.oLatLng.lng,this.oLatLng.lat],this.aConfiguration.zoom=parseInt(this.aConfiguration.zoom,10),this.aConfiguration.maxZoom=parseInt(this.aConfiguration.maxZoom,10),this.aConfiguration.minZoom=parseInt(this.aConfiguration.minZoom,10)}},{key:"buildMapMarker",value:function(){var t=document.createElement("div");t.className="marker",t.style.backgroundImage="url("+this.aConfiguration.marker+")",t.style.backgroundRepeat="no-repeat";var e=l.default.getMapSizeIcon();t.style.width=e.width,t.style.height=e.height,new mapboxgl.Marker(t).setLngLat(this.oLatLng).addTo(this.$map)}},{key:"init",value:function(){return this.$map=document.getElementById(this.mapID),"undefined"!==this.$map&&(this.setParams(),void 0===this.aConfiguration.latlng?(alert("Latitude and Longitude are required"),!1):void 0!==WILOKE_GLOBAL.mapAPI&&WILOKE_GLOBAL.mapAPI.length?(this.$map=new mapboxgl.Map(this.aConfiguration),this.$map.addControl(new mapboxgl.NavigationControl),this.buildMapMarker(),void this.addGetDirectionButton()):(alert("Latitude and Longitude are required"),!1))}}]),t}();(o=jQuery)(window).on("load",function(){o(".js-single-map").hasClass("has-toggle")?o(".js-toggle-map").on("click",function(){var t=o("#"+o(this).data("mapid")),e=o(this).data("mapid");setTimeout(function(){t.data("initialized")||(new u(e),t.data("initialized",!0))},500)}):document.querySelectorAll(".js-single-map").forEach(function(t){new u(t.id)})})},5:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},6:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}});